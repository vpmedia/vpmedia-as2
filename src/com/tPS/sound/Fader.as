/** * Fader Class * @author	tPS * @version 1 **/import com.robertpenner.easing.Quad;import com.tPS.tween.Threat; class com.tPS.sound.Fader extends com.tPS.event.AeventSource{	private var i:Number;	private var snd:Sound;	private var duration:Number;	private var diffTo100:Number;	private var originVol:Number;		function Fader($snd:Sound,$duration:Number){		i=0;		snd = $snd;		duration = $duration;		diffTo100 = 100 - snd.getVolume(); 		originVol = snd.getVolume(); 		fade();	}		private function update(){				if(i<duration){				var vol:Number = Quad.easeOut(i,originVol,diffTo100,duration);			snd.setVolume(vol);					}else if(i<duration*2){			var vol:Number = Quad.easeOut(i-duration,100,-100,duration);			snd.setVolume(vol);			}else{			broadcastMessage("onFadeEnd");			Threat.endThreat(this);		}		i++;	}		private function fade(){		Threat.beginThreat(this);	}		public function kill():Void{		Threat.endThreat(this);	}	}