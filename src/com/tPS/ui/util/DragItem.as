/** * DRAG ITEM *  * BASIC PROPERTIES FOR A DRAGGABLE ITEM *  * @author	tPS * @version 1.2 **/import com.tPS.event.Delegate;import com.tPS.draw.Point;import com.tPS.draw.Dimensions; class com.tPS.ui.util.DragItem extends com.tPS.event.AeventSource{ 		private var _rt:MovieClip;	private var origin:Point;	private var constrains:Dimensions;			function DragItem($rt:MovieClip){		_rt = $rt;		setup();	}		private function setup():Void{		constrains = new Dimensions(Stage.width, Stage.height);		origin = new Point(0, 0);		_rt.onPress = Delegate.create(this, onPress);		_rt.onRelease = _rt.onReleaseOutside =  Delegate.create(this, onRelease);	}		private function onPress():Void{		broadcastMessage("onStartDrag");		_rt.startDrag(false, origin.x, origin.y, origin.x + constrains._width, origin.y + constrains._height);		_rt.onMouseMove = Delegate.create(this, onUpdatePos);	}		private function onUpdatePos():Void{		var pos:Point = new Point(_rt._x,_rt._y);		broadcastMessage("onUpdatePos",this,pos);	}		private function onRelease():Void{		_rt.stopDrag();		_rt.onMouseMove = undefined;		onUpdatePos();		broadcastMessage("onStopDrag");	}		function get _pos():Point{		return new Point(_rt._x,_rt._y);	}		public function set _constrains( $con:Dimensions ) : Void {		constrains = $con;	}		public function set _origin( $orig:Point ) : Void {		origin = $orig;	}		function get _clip():MovieClip{		return _rt;	}}