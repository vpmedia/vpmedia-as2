import mx.utils.Delegate;import mx.transitions.Tween;import mx.transitions.easing.*;class com.pixelfumes.Swinger{	private var clip:MovieClip;	private var force:Number = 20;	private var _force:Number = force;	private var n:Number = 0;	private var _n:Number = n;	private var friction:Number = .5;	private var _friction:Number = friction;	private var interactionOrigin:String = "left";	private var wait:Boolean = true;	private var kickTween:Tween;		function Swinger(m:MovieClip){		clip = m;		clip.onRollOver = Delegate.create(this,swing);	}		public function setParamaters(o:Object):Void{		delete clip.onEnterFrame;		kickTween.stop();		clip._rotation = 0;		force = o.force;		friction = o.friction;		_force = force;		_friction = friction;		wait = o.wait;		n=0;	}		public function swing():Void{		if(n == 0 || wait == false){		interactionOrigin = getFromDirection();				force = _force		n = _n;		friction = _friction;				if(interactionOrigin == "left"){			force = _force*-1;			kickTween= new Tween(clip, "_rotation", Regular.easeOut, clip._rotation, Math.cos(n)*force, .2, true);			kickTween.onMotionFinished = Delegate.create(this,render);		}else{			force = _force;			kickTween= new Tween(clip, "_rotation", Regular.easeOut, clip._rotation, Math.cos(n)*force, .2, true);			kickTween.onMotionFinished = Delegate.create(this,render);		}				delete clip.onEnterFrame;		}	}		private function render():Void{		kickTween.stop();		clip.onEnterFrame = Delegate.create(this,renderSwing);	}			public function getMomentum():String{		trace(n);		return n.toString();	}		private function renderSwing():Void{		//http://www.blogaboutflash.com/2007/02/using-mathcos-to-make-object-swing.html		n += 0.3;		clip._rotation = Math.cos(n)*force;		if(interactionOrigin == "left"){			if(force-friction < 0){				force += friction;			}else{				n=0;				delete clip.onEnterFrame;			}		}else{			if(force-friction > 0){				force -= friction;			}else{				n=0;				delete clip.onEnterFrame;			}		}	}		private function getFromDirection():String{		if(clip._xmouse < 0){			return "left";		}else{			return "right";		}	}}